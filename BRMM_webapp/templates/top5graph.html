{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-center align-items-center vh-100" style="padding-top: 0; margin-top: -50px;">
    <div class="container text-center">
        <h2 class="mb-4 fw-bold">Top 5 Driver List</h2>
        <div class="card shadow-lg">
            <div class="card-body">
                <div id="myHBarPlot" style="width:100%; max-width:1000px; margin: 0 auto;"></div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    // Replacing hard-coded values with passed values
    var resultlist = {{ value_list | safe }}.reverse();
    var driverlist = {{ name_list | safe }}.reverse();

    // Define graph data
    const data = [{ 
        x: resultlist,  
        y: driverlist,  
        type: "bar", 
        orientation: "h", 
        marker: {color: "lightblue"} 
    }];

    // Define graph layout. Excluded a y-axis title as fruit names are self-explanatory.
    const layout = {  
        xaxis: {range : [0, 300], title: "Overall Results"}, 
        yaxis: {automargin: true},
        title: "Top 5 Driver list"
    };

    // Display using Plotly
    Plotly.newPlot("myHBarPlot", data, layout);
</script>
{% endblock %}
 